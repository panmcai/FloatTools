(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var s=e.i(69287),t=e.i(71317);let a={fp32:{name:"FP32 (Single Precision)",bits:32,signBits:1,exponentBits:8,mantissaBits:23,exponentBias:127},fp64:{name:"FP64 (Double Precision)",bits:64,signBits:1,exponentBits:11,mantissaBits:52,exponentBias:1023},fp16:{name:"Half",bits:16,signBits:1,exponentBits:5,mantissaBits:10,exponentBias:15},bf16:{name:"BFloat16 (E8M7)",bits:16,signBits:1,exponentBits:8,mantissaBits:7,exponentBias:127},fp8_e4m3:{name:"FP8 E4M3",bits:8,signBits:1,exponentBits:4,mantissaBits:3,exponentBias:7},fp8_e5m2:{name:"FP8 E5M2",bits:8,signBits:1,exponentBits:5,mantissaBits:2,exponentBias:15},fp4_e2m1:{name:"FP4 E2M1",bits:4,signBits:1,exponentBits:2,mantissaBits:1,exponentBias:1}};function l(){let e,l,n,[i,x]=(0,t.useState)("fp32"),[r,d]=(0,t.useState)(1.5),[c,o]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[h,b]=(0,t.useState)(""),[N,u]=(0,t.useState)(""),[j,g]=(0,t.useState)(null),f=a[i];(0,t.useEffect)(()=>{let e=function(e,s){let t,a=!1,l=!1,n=!1,i=!0,x=!1;if(32===s.bits){let s=new DataView(new ArrayBuffer(4));s.setFloat32(0,e),t=s.getUint32(0).toString(2).padStart(32,"0")}else if(64===s.bits){let s=new DataView(new ArrayBuffer(8));s.setFloat64(0,e),t=s.getBigUint64(0).toString(2).padStart(64,"0")}else t=function(e,s){let t=Math.abs(e),a=e<0||0===e&&1/e<0?"1":"0";if(0===t)return a+"0".repeat(s.exponentBits)+"0".repeat(s.mantissaBits);if(!isFinite(e))return a+"1".repeat(s.exponentBits)+(isNaN(e)?"1":"0").repeat(s.mantissaBits);let l=Math.floor(Math.log2(t)),n=Math.pow(2,s.exponentBits)-2,i=1-s.exponentBias;if(l>n)return a+"1".repeat(s.exponentBits)+"0".repeat(s.mantissaBits);if(l<i){if(t<Math.pow(2,i-s.mantissaBits))return a+"0".repeat(s.exponentBits)+"0".repeat(s.mantissaBits);let e=Math.round(t/Math.pow(2,i-s.mantissaBits)).toString(2).padStart(s.mantissaBits,"0");return a+"0".repeat(s.exponentBits)+e.substring(e.length-s.mantissaBits)}let x=l+s.exponentBias,r=Math.round((t/Math.pow(2,l)-1)*Math.pow(2,s.mantissaBits));return a+x.toString(2).padStart(s.exponentBits,"0")+r.toString(2).padStart(s.mantissaBits,"0")}(e,s);let r=t.substring(0,s.signBits),d=t.substring(s.signBits,s.signBits+s.exponentBits),c=t.substring(s.signBits+s.exponentBits),o=parseInt(d,2),m=parseInt(c,2),p=Math.pow(2,s.exponentBits)-1;return 0===o&&0===m?(a=!0,i=!1):0===o?(x=!0,i=!1):o===p&&(0===m?l=!0:n=!0,i=!1),{sign:r,exponent:d,mantissa:c,bits:t,exponentValue:o,mantissaValue:m,isNormalized:i,isDenormalized:x,isZero:a,isInfinity:l,isNaN:n}}(r,f);p(e.sign),b(e.exponent),u(e.mantissa),o(e.bits),g(e)},[r,f]);let v=(e,s)=>{let t="sign"===e?m:"exponent"===e?h:N,a=t.substring(0,s)+("0"===t[s]?"1":"0")+t.substring(s+1);"sign"===e?p(a):"exponent"===e?b(a):u(a),d(function(e,s,t,a){let l=parseInt(e,2),n=parseInt(s,2),i=parseInt(t,2),x=Math.pow(2,a.exponentBits)-1;if(0===n){if(0===i)return l?-0:0;let e=i/Math.pow(2,a.mantissaBits+a.exponentBias-1);return l?-e:e}if(n===x)return 0===i?l?-1/0:1/0:NaN;let r=n-a.exponentBias,d=(1+i/Math.pow(2,a.mantissaBits))*Math.pow(2,r);return l?-d:d}("sign"===e?a:m,"exponent"===e?a:h,"mantissa"===e?a:N,f))},B=e=>{if(isNaN(e))return"NaN";if(!isFinite(e))return e>0?"+∞":"-∞";let s=Math.abs(e);return s<1e-4||s>=1e6?e.toExponential(4):e.toPrecision(8)},w=(e=1-f.exponentBias,l=Math.pow(2,f.exponentBits)-2-f.exponentBias,n=Math.pow(2,e-f.mantissaBits),{minPositive:n,maxPositive:(2-Math.pow(2,-f.mantissaBits))*Math.pow(2,l),epsilon:Math.pow(2,-f.mantissaBits),minNormalExp:e,maxNormalExp:l}),M=(e,s)=>{let t=f.bits;return"sign"===e?t-1:"exponent"===e?t-2-s:t-2-f.exponentBits-s};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-2 md:p-4",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"浮点数可视化工具"}),(0,s.jsx)("p",{className:"text-slate-400 text-xs",children:"IEEE 754 + 扩展格式"})]}),(0,s.jsx)("div",{className:"text-xs text-slate-500 hidden sm:block",children:f.name})]}),(0,s.jsx)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-2 md:p-3 mb-2 border border-slate-700",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-2",children:[(0,s.jsxs)("div",{className:"lg:col-span-7",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-slate-400 mb-1 block",children:"格式"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(a).map(([e,t])=>(0,s.jsx)("button",{onClick:()=>x(e),className:`px-2 py-1 rounded text-xs font-medium transition-all flex-shrink-0 ${i===e?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:t.name.split(" ")[0]},e))})]}),(0,s.jsxs)("div",{className:"lg:col-span-5",children:[(0,s.jsx)("label",{className:"text-xs font-medium text-slate-400 mb-1 block",children:"数值 / 十六进制"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("input",{type:"text",value:B(r),onChange:e=>{var s;let t;!isNaN(t=parseFloat(s=e.target.value))&&isFinite(t)?d(t):"inf"===s||"+inf"===s||"-inf"===s?d("-inf"===s?-1/0:1/0):"nan"===s&&d(NaN)},className:"px-2 py-1 bg-slate-900 border border-slate-600 rounded text-sm font-mono focus:outline-none focus:border-blue-500",placeholder:"输入数值"}),(0,s.jsx)("div",{className:"px-2 py-1 bg-slate-900 border border-slate-600 rounded text-sm font-mono text-center",children:(()=>{let e=parseInt(c,2);if(32===f.bits)return"0x"+e.toString(16).padStart(8,"0").toUpperCase();if(64===f.bits){let e=parseInt(c.substring(0,32),2),s=parseInt(c.substring(32),2);return"0x"+e.toString(16).padStart(8,"0").toUpperCase()+s.toString(16).padStart(8,"0").toUpperCase()}{let s=Math.ceil(f.bits/4);return"0x"+e.toString(16).padStart(s,"0").toUpperCase()}})()})]})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-2 mb-2",children:[(0,s.jsxs)("div",{className:"xl:col-span-2 bg-slate-800/50 backdrop-blur-sm rounded-xl p-3 border border-slate-700",children:[(0,s.jsx)("div",{className:"bg-slate-900/50 rounded-lg p-3 mb-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1 px-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:"符号"})]}),(0,s.jsx)("div",{className:"flex gap-0.5",children:m.split("").map((e,t)=>(0,s.jsxs)("button",{onClick:()=>v("sign",t),className:`w-8 h-12 flex flex-col items-center justify-center rounded transition-all ${"0"===e?"bg-slate-800 text-slate-500 hover:bg-slate-700 hover:text-slate-300":"bg-red-500/20 text-red-400 border border-red-500/50 hover:bg-red-500/30"}`,children:[(0,s.jsx)("span",{className:"text-xs font-mono font-bold",children:e}),(0,s.jsx)("span",{className:"text-[8px] text-slate-600 font-mono mt-0.5",children:M("sign",t)})]},t))})]}),(0,s.jsx)("div",{className:"w-px h-12 bg-slate-700"}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1 px-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:"指数"}),(0,s.jsxs)("span",{className:"text-[9px] text-slate-600",children:["偏置:",f.exponentBias]})]}),(0,s.jsx)("div",{className:"flex gap-0.5",children:h.split("").map((e,t)=>(0,s.jsxs)("button",{onClick:()=>v("exponent",t),className:`w-8 h-12 flex flex-col items-center justify-center rounded transition-all ${"0"===e?"bg-slate-800 text-slate-500 hover:bg-slate-700 hover:text-slate-300":"bg-blue-500/20 text-blue-400 border border-blue-500/50 hover:bg-blue-500/30"}`,children:[(0,s.jsx)("span",{className:"text-xs font-mono font-bold",children:e}),(0,s.jsx)("span",{className:"text-[8px] text-slate-600 font-mono mt-0.5",children:M("exponent",t)})]},t))})]}),(0,s.jsx)("div",{className:"w-px h-12 bg-slate-700"}),(0,s.jsxs)("div",{className:"flex flex-col items-start gap-1 px-2 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 w-full",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:"尾数"})]}),(0,s.jsx)("div",{className:"flex gap-0.5 flex-wrap justify-start",children:N.split("").map((e,t)=>(0,s.jsxs)("button",{onClick:()=>v("mantissa",t),className:`w-8 h-12 flex flex-col items-center justify-center rounded transition-all ${"0"===e?"bg-slate-800 text-slate-500 hover:bg-slate-700 hover:text-slate-300":"bg-green-500/20 text-green-400 border border-green-500/50 hover:bg-green-500/30"}`,children:[(0,s.jsx)("span",{className:"text-xs font-mono font-bold",children:e}),(0,s.jsx)("span",{className:"text-[8px] text-slate-600 font-mono mt-0.5",children:M("mantissa",t)})]},t))})]})]})}),j&&j.isNormalized&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-2",children:[(0,s.jsx)("div",{className:"text-xs text-slate-400 mb-1",children:"数学表示"}),(0,s.jsxs)("div",{className:"text-sm font-mono text-center whitespace-nowrap",children:[(0,s.jsx)("span",{className:"text-red-400 font-bold",children:"0"===m?"+":"-"}),(0,s.jsx)("span",{className:"mx-1 text-slate-300",children:"1."}),(0,s.jsx)("span",{className:"text-green-400",children:N}),(0,s.jsx)("span",{className:"mx-1 text-slate-400",children:"×"}),(0,s.jsx)("span",{className:"text-blue-400",children:"2^"}),(0,s.jsxs)("span",{className:"text-blue-300 text-xs",children:["0"===m?"":"-",j.exponentValue-f.exponentBias]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-2 text-xs font-mono space-y-1.5",children:[(0,s.jsx)("div",{className:"text-slate-400 mb-1",children:"换算过程"}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-red-400",children:"符号 s"}),(0,s.jsxs)("span",{className:"text-slate-300",children:[(0,s.jsx)("span",{className:"text-red-400 font-bold",children:m}),(0,s.jsx)("span",{className:"text-slate-500 text-xs",children:"[2]"}),"= ","0"===m?"+1":"-1"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-blue-400",children:"指数 e"}),(0,s.jsxs)("span",{className:"text-slate-300",children:[(0,s.jsx)("span",{className:"text-blue-400 font-bold",children:h}),(0,s.jsx)("span",{className:"text-slate-500 text-xs",children:"[2]"}),"= ",j.exponentValue,(0,s.jsx)("span",{className:"text-slate-500 text-xs",children:"[10]"}),"- ",f.exponentBias,"= ",(0,s.jsx)("span",{className:"text-blue-300 font-bold",children:j.exponentValue-f.exponentBias})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("span",{className:"text-green-400",children:"尾数 f"}),(0,s.jsxs)("span",{className:"text-slate-300 text-right",children:[(0,s.jsxs)("div",{className:"mb-0.5",children:[(0,s.jsxs)("span",{className:"text-green-400 font-bold",children:["0.",N]}),(0,s.jsx)("span",{className:"text-slate-500 text-xs",children:"[2]"})]}),(0,s.jsxs)("div",{className:"text-slate-500",children:["= ",N.split("").map((e,s)=>"0"===e?null:`+ 2^${-(s+1)}`).filter(Boolean).join(" ")||"0"]}),(0,s.jsxs)("div",{className:"text-green-300 font-bold",children:["= ",(j.mantissaValue/Math.pow(2,f.mantissaBits)).toFixed(6)]})]})]}),(0,s.jsxs)("div",{className:"pt-1 border-t border-slate-700",children:[(0,s.jsx)("div",{className:"text-slate-400 text-center mb-0.5",children:"结果 = (-1)^s × (1 + f) × 2^(e-bias)"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("span",{className:"text-red-400",children:"0"===m?"+":"-"}),(0,s.jsxs)("span",{children:["1.",N]}),(0,s.jsx)("span",{className:"text-slate-500 text-xs",children:"[2]"}),(0,s.jsx)("span",{children:" × 2^"}),(0,s.jsx)("span",{className:"text-blue-300 text-xs",children:j.exponentValue-f.exponentBias}),(0,s.jsx)("span",{children:" = "}),(0,s.jsx)("span",{className:"text-white font-bold",children:B(r)})]})]})]})]}),j&&!j.isNormalized&&(0,s.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-2 text-xs",children:[(0,s.jsx)("div",{className:"text-slate-400 mb-1",children:"特殊值"}),(0,s.jsxs)("div",{className:"text-center",children:[j.isZero&&(0,s.jsx)("span",{className:"text-slate-300",children:"零 (Zero)"}),j.isInfinity&&(0,s.jsx)("span",{className:"text-orange-400",children:"无穷大 (Infinity)"}),j.isNaN&&(0,s.jsx)("span",{className:"text-red-400",children:"非数字 (NaN)"}),j.isDenormalized&&(0,s.jsx)("span",{className:"text-yellow-400",children:"非规格化数 (Denormalized)"})]})]})]}),(0,s.jsxs)("div",{className:"xl:col-span-1 space-y-2",children:[(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-3 border border-slate-700",children:[(0,s.jsx)("h3",{className:"text-xs font-semibold text-slate-300 mb-2",children:"格式信息"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg p-2",children:[(0,s.jsx)("div",{className:"text-xs text-slate-500 mb-0.5",children:"最小正数"}),(0,s.jsx)("div",{className:"font-mono text-xs text-green-400",children:w.minPositive.toExponential(1)})]}),(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg p-2",children:[(0,s.jsx)("div",{className:"text-xs text-slate-500 mb-0.5",children:"最大正数"}),(0,s.jsx)("div",{className:"font-mono text-xs text-blue-400",children:w.maxPositive.toExponential(1)})]}),(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg p-2",children:[(0,s.jsx)("div",{className:"text-xs text-slate-500 mb-0.5",children:"机器精度"}),(0,s.jsx)("div",{className:"font-mono text-xs text-purple-400",children:w.epsilon.toExponential(1)})]}),(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg p-2",children:[(0,s.jsx)("div",{className:"text-xs text-slate-500 mb-0.5",children:"指数范围"}),(0,s.jsxs)("div",{className:"font-mono text-xs text-yellow-400",children:["[",w.minNormalExp,", ",w.maxNormalExp,"]"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-3 border border-slate-700",children:[(0,s.jsx)("h3",{className:"text-xs font-semibold text-slate-300 mb-2",children:"快速操作"}),(0,s.jsx)("div",{className:"grid grid-cols-5 gap-1",children:[{label:"0",value:0},{label:"1",value:1},{label:"-1",value:-1},{label:"π",value:Math.PI},{label:"e",value:Math.E},{label:"√2",value:Math.sqrt(2)},{label:"0.1",value:.1},{label:"+∞",value:1/0},{label:"-∞",value:-1/0},{label:"NaN",value:NaN}].map(e=>(0,s.jsx)("button",{onClick:()=>d(e.value),className:"px-2 py-1 bg-slate-700 hover:bg-slate-600 rounded font-mono text-xs transition-all",children:e.label},e.label))})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-3 border border-slate-700",children:[(0,s.jsx)("h3",{className:"text-xs font-semibold text-slate-300 mb-2",children:"状态"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"符号:"}),(0,s.jsx)("span",{className:"0"===m?"text-green-400":"text-red-400",children:"0"===m?"正":"负"})]}),j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"类型:"}),(0,s.jsx)("span",{className:j.isInfinity?"text-orange-400":j.isNaN?"text-red-400":j.isZero?"text-slate-400":j.isDenormalized?"text-yellow-400":"text-green-400",children:j.isInfinity?"无穷大":j.isNaN?"NaN":j.isZero?"零":j.isDenormalized?"非规格化":"规格化"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"指数值:"}),(0,s.jsx)("span",{className:"text-blue-400",children:j.exponentValue})]}),(0,s.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"尾数值:"}),(0,s.jsx)("span",{className:"text-green-400",children:j.mantissaValue})]})]})]})]})]})]}),(0,s.jsx)("div",{className:"text-center text-slate-600 text-xs",children:(0,s.jsx)("p",{children:"支持 Half/FP32/FP64/BFloat16 以及扩展的 FP8 (E4M3/E5M2) 和 FP4 (E2M1) 格式"})})]})})}e.s(["default",()=>l],52683)}]);