(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";var s=e.i(69287),t=e.i(71317);let a={fp32:{name:"FP32 (Single Precision)",bits:32,signBits:1,exponentBits:8,mantissaBits:23,exponentBias:127},fp64:{name:"FP64 (Double Precision)",bits:64,signBits:1,exponentBits:11,mantissaBits:52,exponentBias:1023},fp16:{name:"Half (E5M10)",bits:16,signBits:1,exponentBits:5,mantissaBits:10,exponentBias:15},bf16:{name:"BFloat16 (E8M7)",bits:16,signBits:1,exponentBits:8,mantissaBits:7,exponentBias:127},fp8_e4m3:{name:"FP8 Training (E4M3)",bits:8,signBits:1,exponentBits:4,mantissaBits:3,exponentBias:7},fp8_e5m2:{name:"FP8 Inference (E5M2)",bits:8,signBits:1,exponentBits:5,mantissaBits:2,exponentBias:15},fp4_e2m1:{name:"FP4 E2M1",bits:4,signBits:1,exponentBits:2,mantissaBits:1,exponentBias:1}};function n(){let e,n,l,[i,x]=(0,t.useState)("fp32"),[r,d]=(0,t.useState)(1.5),[o,c]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[h,b]=(0,t.useState)(""),[u,N]=(0,t.useState)(""),[f,j]=(0,t.useState)(null),g=a[i];(0,t.useEffect)(()=>{let e=function(e,s){let t,a=!1,n=!1,l=!1,i=!0,x=!1;if(32===s.bits){let s=new DataView(new ArrayBuffer(4));s.setFloat32(0,e),t=s.getUint32(0).toString(2).padStart(32,"0")}else if(64===s.bits){let s=new DataView(new ArrayBuffer(8));s.setFloat64(0,e),t=s.getBigUint64(0).toString(2).padStart(64,"0")}else t=function(e,s){let t=Math.abs(e),a=e<0||0===e&&1/e<0?"1":"0";if(0===t)return a+"0".repeat(s.exponentBits)+"0".repeat(s.mantissaBits);if(!isFinite(e))return a+"1".repeat(s.exponentBits)+(isNaN(e)?"1":"0").repeat(s.mantissaBits);let n=Math.floor(Math.log2(t)),l=Math.pow(2,s.exponentBits)-1,i=1-s.exponentBias;if(n>l-s.exponentBias&&(n=l-s.exponentBias),n<i){if(t<Math.pow(2,i-s.mantissaBits))return a+"0".repeat(s.exponentBits)+"0".repeat(s.mantissaBits);let e=Math.round(t/Math.pow(2,i-s.mantissaBits)).toString(2).padStart(s.mantissaBits,"0");return a+"0".repeat(s.exponentBits)+e.substring(e.length-s.mantissaBits)}let x=n+s.exponentBias,r=t/Math.pow(2,n)-1,d=Math.pow(2,s.mantissaBits),o=Math.round(r*d),c=x,m=o;return o>=d&&(m=0,c++),a+c.toString(2).padStart(s.exponentBits,"0")+m.toString(2).padStart(s.mantissaBits,"0")}(e,s);let r=t.substring(0,s.signBits),d=t.substring(s.signBits,s.signBits+s.exponentBits),o=t.substring(s.signBits+s.exponentBits),c=parseInt(d,2),m=parseInt(o,2),p=Math.pow(2,s.exponentBits)-1;return 0===c&&0===m?(a=!0,i=!1):0===c?(x=!0,i=!1):c===p&&(0===m?n=!0:l=!0,i=!1),{sign:r,exponent:d,mantissa:o,bits:t,exponentValue:c,mantissaValue:m,isNormalized:i,isDenormalized:x,isZero:a,isInfinity:n,isNaN:l}}(r,g);p(e.sign),b(e.exponent),N(e.mantissa),c(e.bits),j(e)},[r,g]);let v=(e,s)=>{let t="sign"===e?m:"exponent"===e?h:u,a=t.substring(0,s)+("0"===t[s]?"1":"0")+t.substring(s+1);"sign"===e?p(a):"exponent"===e?b(a):N(a),d(function(e,s,t,a){let n=parseInt(e,2),l=parseInt(s,2),i=parseInt(t,2),x=Math.pow(2,a.exponentBits)-1;if(0===l){if(0===i)return n?-0:0;let e=i/Math.pow(2,a.mantissaBits+a.exponentBias-1);return n?-e:e}if(l===x)return 0===i?n?-1/0:1/0:NaN;let r=l-a.exponentBias,d=(1+i/Math.pow(2,a.mantissaBits))*Math.pow(2,r);return n?-d:d}("sign"===e?a:m,"exponent"===e?a:h,"mantissa"===e?a:u,g))},B=e=>{if(isNaN(e))return"NaN";if(!isFinite(e))return e>0?"+∞":"-∞";let s=Math.abs(e);return s<1e-4||s>=1e6?e.toExponential(4):e.toPrecision(8)},w=(e=1-g.exponentBias,n=Math.pow(2,g.exponentBits)-2-g.exponentBias,l=Math.pow(2,e-g.mantissaBits),{minPositive:l,maxPositive:(2-Math.pow(2,-g.mantissaBits))*Math.pow(2,n),epsilon:Math.pow(2,-g.mantissaBits),minNormalExp:e,maxNormalExp:n}),M=(e,s)=>{let t=g.bits;return"sign"===e?t-1:"exponent"===e?t-2-s:t-2-g.exponentBits-s};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-6 md:p-8",children:(0,s.jsxs)("div",{className:"max-w-[85vw] mx-auto min-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"浮点数可视化工具"}),(0,s.jsx)("p",{className:"text-slate-400 text-xs md:text-sm mt-0.5",children:"IEEE 754 + 扩展格式"})]}),(0,s.jsx)("div",{className:"text-xs md:text-sm text-slate-500 hidden sm:block font-medium",children:g.name})]}),(0,s.jsx)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 mb-6 border border-slate-700 shrink-0",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-3",children:[(0,s.jsxs)("div",{className:"lg:col-span-7",children:[(0,s.jsx)("label",{className:"text-xs md:text-sm font-medium text-slate-400 mb-1 block",children:"格式"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1.5",children:Object.entries(a).map(([e,t])=>(0,s.jsx)("button",{onClick:()=>x(e),className:`px-2 py-1 rounded text-xs md:text-sm font-medium transition-all flex-shrink-0 ${i===e?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:t.name.split(" ")[0]},e))})]}),(0,s.jsxs)("div",{className:"lg:col-span-5",children:[(0,s.jsx)("label",{className:"text-xs md:text-sm font-medium text-slate-400 mb-1 block",children:"数值 / 十六进制"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("input",{type:"text",value:B(r),onChange:e=>{var s;let t;!isNaN(t=parseFloat(s=e.target.value))&&isFinite(t)?d(t):"inf"===s||"+inf"===s||"-inf"===s?d("-inf"===s?-1/0:1/0):"nan"===s&&d(NaN)},className:"px-2 py-1 bg-slate-900 border border-slate-600 rounded text-xs md:text-sm font-mono focus:outline-none focus:border-blue-500",placeholder:"输入数值"}),(0,s.jsx)("div",{className:"px-2 py-1 bg-slate-900 border border-slate-600 rounded text-xs md:text-sm font-mono text-center flex items-center justify-center",children:(()=>{let e=parseInt(o,2);if(32===g.bits)return"0x"+e.toString(16).padStart(8,"0").toUpperCase();if(64===g.bits){let e=parseInt(o.substring(0,32),2),s=parseInt(o.substring(32),2);return"0x"+e.toString(16).padStart(8,"0").toUpperCase()+s.toString(16).padStart(8,"0").toUpperCase()}{let s=Math.ceil(g.bits/4);return"0x"+e.toString(16).padStart(s,"0").toUpperCase()}})()})]})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 min-h-0 flex-1 items-start",children:[(0,s.jsxs)("div",{className:"xl:col-span-2 bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700 overflow-hidden flex flex-col",children:[(0,s.jsx)("div",{className:"bg-slate-900/50 rounded-lg p-4 mb-4 overflow-x-auto shrink-0",children:(0,s.jsxs)("div",{className:"flex items-center gap-1 min-w-max",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-0.5 px-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)("div",{className:"w-1 h-1 rounded-full bg-red-500"}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:"符号"})]}),(0,s.jsx)("div",{className:"flex gap-0.5",children:m.split("").map((e,t)=>(0,s.jsxs)("button",{onClick:()=>v("sign",t),className:`w-6 h-10 flex flex-col items-center justify-center rounded transition-all ${"0"===e?"bg-slate-800 text-slate-500 hover:bg-slate-700 hover:text-slate-300":"bg-red-500/20 text-red-400 border border-red-500/50 hover:bg-red-500/30"}`,children:[(0,s.jsx)("span",{className:"text-[12px] font-mono font-bold leading-none",children:e}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 font-mono leading-none",children:M("sign",t)})]},t))})]}),(0,s.jsx)("div",{className:"w-px h-10 bg-slate-700"}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-0.5 px-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)("div",{className:"w-1 h-1 rounded-full bg-blue-500"}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:"指数"})]}),(0,s.jsx)("div",{className:"flex gap-0.5",children:h.split("").map((e,t)=>(0,s.jsxs)("button",{onClick:()=>v("exponent",t),className:`w-6 h-10 flex flex-col items-center justify-center rounded transition-all ${"0"===e?"bg-slate-800 text-slate-500 hover:bg-slate-700 hover:text-slate-300":"bg-blue-500/20 text-blue-400 border border-blue-500/50 hover:bg-blue-500/30"}`,children:[(0,s.jsx)("span",{className:"text-[12px] font-mono font-bold leading-none",children:e}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 font-mono leading-none",children:M("exponent",t)})]},t))})]}),(0,s.jsx)("div",{className:"w-px h-10 bg-slate-700"}),(0,s.jsxs)("div",{className:"flex flex-col items-start gap-0.5 px-2 flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-0.5 w-full",children:[(0,s.jsx)("div",{className:"w-1 h-1 rounded-full bg-green-500"}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 font-medium",children:"尾数"})]}),(0,s.jsx)("div",{className:"flex gap-0.5 flex-wrap justify-start",children:u.split("").map((e,t)=>(0,s.jsxs)("button",{onClick:()=>v("mantissa",t),className:`w-6 h-10 flex flex-col items-center justify-center rounded transition-all ${"0"===e?"bg-slate-800 text-slate-500 hover:bg-slate-700 hover:text-slate-300":"bg-green-500/20 text-green-400 border border-green-500/50 hover:bg-green-500/30"}`,children:[(0,s.jsx)("span",{className:"text-[12px] font-mono font-bold leading-none",children:e}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 font-mono leading-none",children:M("mantissa",t)})]},t))})]})]})}),f&&f.isNormalized&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-2 mb-3 shrink-0",children:[(0,s.jsx)("div",{className:"text-[10px] text-slate-400 mb-1 font-medium",children:"数学表示"}),(0,s.jsxs)("div",{className:"text-xs md:text-sm font-mono text-center whitespace-nowrap",children:[(0,s.jsx)("span",{className:"text-red-400 font-bold",children:"0"===m?"+":"-"}),(0,s.jsx)("span",{className:"mx-1 text-slate-300",children:"1."}),(0,s.jsx)("span",{className:"text-green-400",children:u}),(0,s.jsx)("span",{className:"mx-1 text-slate-400",children:"×"}),(0,s.jsx)("span",{className:"text-blue-400",children:"2^"}),(0,s.jsxs)("span",{className:"text-blue-300 text-[10px] md:text-xs",children:["0"===m?"":"-",f.exponentValue-g.exponentBias]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-2 text-xs md:text-sm font-mono space-y-2 overflow-auto flex-1",children:[(0,s.jsx)("div",{className:"text-slate-400 mb-1 font-medium shrink-0",children:"换算过程"}),(0,s.jsxs)("div",{className:"flex justify-between items-center shrink-0",children:[(0,s.jsx)("span",{className:"text-red-400",children:"符号 s"}),(0,s.jsxs)("span",{className:"text-slate-300",children:[(0,s.jsx)("span",{className:"text-red-400 font-bold",children:m}),(0,s.jsx)("span",{className:"text-slate-500 text-[10px]",children:"[2]"}),"= ","0"===m?"+1":"-1"]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center shrink-0",children:[(0,s.jsx)("span",{className:"text-blue-400",children:"指数 e"}),(0,s.jsxs)("span",{className:"text-slate-300",children:[(0,s.jsx)("span",{className:"text-blue-400 font-bold",children:h}),(0,s.jsx)("span",{className:"text-slate-500 text-[10px]",children:"[2]"}),"= ",f.exponentValue,(0,s.jsx)("span",{className:"text-slate-500 text-[10px]",children:"[10]"}),"- ",g.exponentBias,"= ",(0,s.jsx)("span",{className:"text-blue-300 font-bold",children:f.exponentValue-g.exponentBias})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-start shrink-0",children:[(0,s.jsx)("span",{className:"text-green-400",children:"尾数 f"}),(0,s.jsxs)("span",{className:"text-slate-300 text-right",children:[(0,s.jsxs)("div",{className:"mb-0.5",children:[(0,s.jsxs)("span",{className:"text-green-400 font-bold",children:["0.",u]}),(0,s.jsx)("span",{className:"text-slate-500 text-[10px]",children:"[2]"})]}),(0,s.jsxs)("div",{className:"text-slate-500 text-[10px] md:text-xs",children:["= ",u.split("").map((e,s)=>"0"===e?null:`+ 2^${-(s+1)}`).filter(Boolean).join(" ")||"0"]}),(0,s.jsxs)("div",{className:"text-green-300 font-bold text-[10px] md:text-xs",children:["= ",(f.mantissaValue/Math.pow(2,g.mantissaBits)).toFixed(6)]})]})]}),(0,s.jsxs)("div",{className:"pt-2 border-t border-slate-700 shrink-0",children:[(0,s.jsx)("div",{className:"text-slate-400 text-center mb-1 text-[10px] md:text-xs",children:"结果 = (-1)^s × (1 + f) × 2^(e-bias)"}),(0,s.jsxs)("div",{className:"text-center text-xs md:text-sm",children:[(0,s.jsx)("span",{className:"text-red-400",children:"0"===m?"+":"-"}),(0,s.jsxs)("span",{children:["1.",u]}),(0,s.jsx)("span",{className:"text-slate-500 text-[10px]",children:"[2]"}),(0,s.jsx)("span",{children:" × 2^"}),(0,s.jsx)("span",{className:"text-blue-300 text-[10px] md:text-xs",children:f.exponentValue-g.exponentBias}),(0,s.jsx)("span",{children:" = "}),(0,s.jsx)("span",{className:"text-white font-bold",children:B(r)})]})]})]})]}),f&&!f.isNormalized&&(0,s.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-2 text-xs md:text-sm",children:[(0,s.jsx)("div",{className:"text-slate-400 mb-1 font-medium",children:"特殊值"}),(0,s.jsxs)("div",{className:"text-center text-xs md:text-sm",children:[f.isZero&&(0,s.jsx)("span",{className:"text-slate-300",children:"零 (Zero)"}),f.isInfinity&&(0,s.jsx)("span",{className:"text-orange-400",children:"无穷大 (Infinity)"}),f.isNaN&&(0,s.jsx)("span",{className:"text-red-400",children:"非数字 (NaN)"}),f.isDenormalized&&(0,s.jsx)("span",{className:"text-yellow-400",children:"非规格化数 (Denormalized)"})]})]})]}),(0,s.jsxs)("div",{className:"xl:col-span-1 space-y-4 flex flex-col min-h-0",children:[(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700 shrink-0",children:[(0,s.jsx)("h3",{className:"text-xs md:text-sm font-semibold text-slate-300 mb-2",children:"格式信息"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg p-2",children:[(0,s.jsx)("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"最小正数"}),(0,s.jsx)("div",{className:"font-mono text-[10px] md:text-xs text-green-400",children:w.minPositive.toExponential(1)})]}),(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg p-2",children:[(0,s.jsx)("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"最大正数"}),(0,s.jsx)("div",{className:"font-mono text-[10px] md:text-xs text-blue-400",children:w.maxPositive.toExponential(1)})]}),(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg p-2",children:[(0,s.jsx)("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"机器精度"}),(0,s.jsx)("div",{className:"font-mono text-[10px] md:text-xs text-purple-400",children:w.epsilon.toExponential(1)})]}),(0,s.jsxs)("div",{className:"bg-slate-900 rounded-lg p-2",children:[(0,s.jsx)("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"指数范围"}),(0,s.jsxs)("div",{className:"font-mono text-[10px] md:text-xs text-yellow-400",children:["[",w.minNormalExp,", ",w.maxNormalExp,"]"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700 shrink-0",children:[(0,s.jsx)("h3",{className:"text-xs md:text-sm font-semibold text-slate-300 mb-2",children:"快速操作"}),(0,s.jsx)("div",{className:"grid grid-cols-5 gap-1.5",children:[{label:"0",value:0},{label:"1",value:1},{label:"-1",value:-1},{label:"π",value:Math.PI},{label:"e",value:Math.E},{label:"√2",value:Math.sqrt(2)},{label:"0.1",value:.1},{label:"+∞",value:1/0},{label:"-∞",value:-1/0},{label:"NaN",value:NaN}].map(e=>(0,s.jsx)("button",{onClick:()=>d(e.value),className:"px-2 py-1 bg-slate-700 hover:bg-slate-600 rounded font-mono text-[10px] md:text-xs transition-all",children:e.label},e.label))})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl p-4 border border-slate-700 shrink-0",children:[(0,s.jsx)("h3",{className:"text-xs md:text-sm font-semibold text-slate-300 mb-2",children:"状态"}),(0,s.jsxs)("div",{className:"space-y-1 text-[10px] md:text-xs",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"符号:"}),(0,s.jsx)("span",{className:"0"===m?"text-blue-400":"text-red-400",children:"0"===m?"正":"负"})]}),f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"类型:"}),(0,s.jsx)("span",{className:f.isInfinity?"text-orange-400":f.isNaN?"text-red-400":f.isZero?"text-slate-400":f.isDenormalized?"text-yellow-400":"text-green-400",children:f.isInfinity?"无穷大":f.isNaN?"NaN":f.isZero?"零":f.isDenormalized?"非规格化":"规格化"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"指数值:"}),(0,s.jsx)("span",{className:"text-blue-400",children:f.exponentValue})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-slate-500",children:"尾数值:"}),(0,s.jsx)("span",{className:"text-green-400",children:f.mantissaValue})]})]})]})]}),(0,s.jsx)("div",{className:"text-center text-slate-600 text-[10px] md:text-xs mt-auto shrink-0",children:(0,s.jsx)("p",{children:"支持 Half/FP32/FP64/BFloat16 以及扩展的 FP8 (E4M3/E5M2) 和 FP4 (E2M1) 格式"})})]})]})]})})}e.s(["default",()=>n],52683)}]);